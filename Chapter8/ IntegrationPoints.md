## Integration Points: Gateways, Tunnels, and Relays

- gateway: 서로 다른 프로토콜 & 어플리케이션 사이의 HTTP 인터페이스
- application interface: 서로 다른 형식의 웹 앱이 통신하는 데 사용
- ternal: HTTP읕 통해서 HTTP 가 아닌 트래픽을 전송하는 데 사용
- relay: 일종의 단순 HTTP 프락시로 한번에 한 개의 홉에 데이터를 전달하는데 사용

### Gateway

HTTP 가 확장되면서 웹에 더 복잡한 리소스를 올려야 할 필요가 새겼고 모든 리소스를 한 개의 앱으로만 처리할 수 없게됨 <br>
이런 상황에서 게이트웨이는 리소스와 앱 사이를 연결하는 역할을 한다.
**3가지 종류의 게이트웨이**
p.229 이미지 참조

- HTTP 클라이언트 & FTP 서버 간 게이트웨이
- HTTPs 클라이언트 & 웹 서버 간 통신에서 HTTPS 측 보안 게이트웨이:
  암호화 된 웹 요청을 SSL을 통해 받고 요청을 해독하여 일반 HTTP 요청을 목적지 웹서버로 전달. 보통 웹서버의 바로 앞단에 위치
- HTTP & CGI 서버 간 앱 게이트웨이 (리소스 게이트웨이)
  - ex1) 클라이언트 A의 요청이 URI를 따라서 API 통해 디지털카메라 앱에 전달되고 HTTP 응답 메세지는 카메라의 이미지를 감싸 클라이언트로 전송
  - ex2) 클라이언트 B의 URI 는 전자상거래 앱을 가리키며 API 를 통해 전자상거래 소프트웨어로 전달된다.
  - app server 안에 API 들이 존재 (e.g.장고 app & WCGI)

#### CGI (Common Gateway Interface)란?

- 특정 URL에 대한 HTTP요청에 따라 프로그램을 실행, 프로그램의 출력을 수집, HTTP 응답으로 회신하는데 웹 서버가 사용하는 표준화된 인터페이스 집합
- 문제가 많은 확장으로부터 서버를 보호할 수 있다는 장점이 있지만 모든 CGI 요청마다 새로운 프로세스를 만드는 부하가 크고 서버의 성능을 제한하는 이슈가 있음 -> Fast CGI 출현(데몬으로 동작함으로써 성능 저하 문제 해결)

### Tunnels

HTTP 프로토콜을 지원하지 않는 앱에 HTTP 을 통해 접근! HTTP 커넥션을 통해 HTTP 가 아닌 트래픽을 전송할 수 있고 다른 프로토콜을 HTTP 위에 올릴 수 있다.

- CONNECT 메소드로 커넥션을 맺음
- 클라이언트와 게이트웨이 사이에 놓인다. (p.239 이미지 참조)
- **SSL 터널링**: SSL 과 같이 암호화 된 프로토콜은 낡은 방식의 프록시에서는 처리가 안됨. 터널을 사용하여 SSL 트래픽 (443포트)을 HTTP 커넥션으로 전송, 80포트의 HTTP 만 허용하는 방화벽 통과 가능.
- 터널링은 보안에 대한 이슈가 있어서 443과 같이 잘 알려진 특정 포트만 터널링을 허용해야 함

### Relays

간단한 HTTP 프록시
(생략🤪)
